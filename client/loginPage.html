<!DOCTYPE html>
<html lang="en">
  <head> </head>
  <body>
    <h1>Login</h1>
    <form action="/auth/login" method="POST">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required /><br />

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required /><br />

      <button type="submit">Login</button>
    </form>

    <script>
      const url = "http://localhost:3000/auth/login";
      const login = async () => {
        const loginData = {
          username: document.getElementById("username").value,
          email: document.getElementById("email").value,
        };
        const resp = await fetch(url, {
          method: "POST", // type of request to the server
          headers: { "Content-Type": "application/json" }, // type of data sending to server
          body: JSON.stringify(loginData), // what is the body of the data make sure to stringify it
        });

        const data = await resp.json();

        sessionStorage["accessToken"] = data.accessToken;
        location.href = "http://localhost:3000/auth/login/employees.html"; /// give an actual page you need to move to
      };
    </script>
  </body>
</html>
